(function(){"use strict";var t={4215:function(t,e,o){var r=o(9242),a=o(3396);function l(t,e,o,r,l,i){const c=(0,a.up)("Header"),s=(0,a.up)("router-view"),n=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c),(0,a.Wm)(s),(0,a.Wm)(n)],64)}const i={class:"footer"},c=(0,a.uE)('<div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div>',1),s=[c];function n(t,e,o,r,l,c){return(0,a.wg)(),(0,a.iD)("footer",i,s)}var u={},d=o(89);const _=(0,d.Z)(u,[["render",n]]);var m=_,p=o(7139);const g={class:"header"},h={class:"header__wrapper container"},f=(0,a._)("span",{class:"header__info"},"Каталог",-1),b=(0,a._)("img",{src:"/img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"},null,-1),P=(0,a._)("a",{class:"header__tel",href:"tel:8 800 600 90 09"}," 8 800 600 90 09 ",-1),v=(0,a._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-cart"})],-1),C={class:"header__count","aria-label":"Количество товаров"};function k(t,e,o,r,l,i){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",g,[(0,a._)("div",h,[f,(0,a.Wm)(c,{class:"header__logo",to:{name:"MainPage"}},{default:(0,a.w5)((()=>[b])),_:1}),P,(0,a.Wm)(c,{to:{name:"Cart"},class:"header__cart","aria-label":"Корзина с товарами"},{default:(0,a.w5)((()=>[v,(0,a._)("span",C,(0,p.zw)(t.allCartProducts.length),1)])),_:1})])])}var w=o(65),y={computed:{...(0,w.Se)(["allCartProducts"])},mounted(){this.$store.commit("updateCartProductFromStorage")}};const I=(0,d.Z)(y,[["render",k]]);var S=I,x={name:"App",components:{Header:S,Footer:m}};const A=(0,d.Z)(x,[["render",l]]);var D=A,L=o(2483);const O={class:"content container"},$=(0,a._)("div",{class:"content__top content__top--catalog"},[(0,a._)("h1",{class:"content__title"}," Каталог ")],-1),M={class:"content__catalog"},V={class:"catalog"};function N(t,e,o,r,l,i){const c=(0,a.up)("ProductsFilter"),s=(0,a.up)("ProductsList"),n=(0,a.up)("ProductsPagination");return(0,a.wg)(),(0,a.iD)("main",O,[$,(0,a._)("div",M,[(0,a.Wm)(c,{minPrice:l.minPrice,"onUpdate:minPrice":e[0]||(e[0]=t=>l.minPrice=t),maxPrice:l.maxPrice,"onUpdate:maxPrice":e[1]||(e[1]=t=>l.maxPrice=t),categoryId:l.categoryId,"onUpdate:categoryId":e[2]||(e[2]=t=>l.categoryId=t),colorId:l.colorId,"onUpdate:colorId":e[3]||(e[3]=t=>l.colorId=t)},null,8,["minPrice","maxPrice","categoryId","colorId"]),(0,a._)("section",V,[(0,a.Wm)(s),(0,a.Wm)(n,{totalPages:t.totalPages,modelValue:l.page,"onUpdate:modelValue":e[4]||(e[4]=t=>l.page=t)},null,8,["totalPages","modelValue"])])])])}const Z={class:"filter"},z=(0,a._)("h2",{class:"filter__title"},"Фильтры",-1),j={class:"form__block"},T=(0,a._)("legend",{class:"form__legend"},"Цена",-1),F={class:"form__label form__label--price"},U=["value"],J=(0,a._)("span",{class:"form__value"},"От",-1),W={class:"form__label form__label--price"},H=["value"],Y=(0,a._)("span",{class:"form__value"},"До",-1),K={class:"form__block"},q=(0,a._)("legend",{class:"form__legend"},"Категория",-1),E={class:"form__label form__label--select"},B=(0,a._)("option",{value:"value1"},"Все категории",-1),G=["value"],Q={class:"form__block"},R=(0,a._)("legend",{class:"form__legend"},"Цвет",-1),X={class:"colors"},tt={class:"colors__label"},et=["value"],ot=(0,a._)("button",{class:"filter__submit button button--primery",type:"submit"}," Применить ",-1);function rt(t,e,o,l,i,c){return(0,a.wg)(),(0,a.iD)("aside",Z,[z,(0,a._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[5]||(e[5]=(0,r.iM)(((...t)=>c.filter&&c.filter(...t)),["prevent"]))},[(0,a._)("fieldset",j,[T,(0,a._)("label",F,[(0,a._)("input",{class:"form__input",type:"number",name:"min-price",onInput:e[0]||(e[0]=t=>c.priceFrom(t)),value:o.minPrice},null,40,U),J]),(0,a._)("label",W,[(0,a._)("input",{class:"form__input",type:"number",name:"max-price",onInput:e[1]||(e[1]=t=>c.priceTo(t)),value:o.maxPrice},null,40,H),Y])]),(0,a._)("fieldset",K,[q,(0,a._)("label",E,[(0,a._)("select",{class:"form__select",type:"text",name:"category",onChange:e[2]||(e[2]=t=>c.selectCaterogy(t))},[B,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.allCategories,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.id},(0,p.zw)(t.title),9,G)))),128))],32)])]),(0,a._)("fieldset",Q,[R,(0,a._)("ul",X,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.allColors,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:t.id},[(0,a._)("label",tt,[(0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",onClick:e[3]||(e[3]=t=>c.selectColor(t)),value:t.id},null,8,et),(0,a._)("span",{class:"colors__value",style:(0,p.j5)({backgroundColor:t.code})},null,4)])])))),128))])]),ot,(0,a._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[4]||(e[4]=(0,r.iM)(((...t)=>c.resetFilter&&c.resetFilter(...t)),["prevent"]))}," Сбросить ")],32)])}var at={data(){return{filterMinprice:0,filterMaxPrice:0,filterCategory:0,filterColor:0}},props:{minPrice:Number,maxPrice:Number,categoryId:Number,colorId:Number},computed:{...(0,w.Se)(["allCategories","allColors"])},methods:{priceFrom(t){this.filterMinprice=t.target.value},priceTo(t){this.filterMaxPrice=t.target.value},selectCaterogy(t){this.filterCategory=t.target.value},selectColor(t){this.filterColor=t.target.value},filter(){this.$emit("update:maxPrice",this.filterMaxPrice),this.$emit("update:minPrice",this.filterMinprice),this.$emit("update:categoryId",this.filterCategory),this.$emit("update:colorId",this.filterColor)},resetFilter(){this.$emit("update:maxPrice",0),this.$emit("update:minPrice",0),this.$emit("update:categoryId",0),this.$emit("update:colorId",0)}},mounted(){this.$store.dispatch("loadCategories"),this.$store.dispatch("loadColors")}};const lt=(0,d.Z)(at,[["render",rt]]);var it=lt;const ct={key:1,class:"catalog__list"};function st(t,e,o,r,l,i){const c=(0,a.up)("Preloader"),s=(0,a.up)("ProductItem");return t.isLoading?((0,a.wg)(),(0,a.j4)(c,{key:0})):((0,a.wg)(),(0,a.iD)("ul",ct,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.allProducts.items,(t=>((0,a.wg)(),(0,a.j4)(s,{key:t.id,product:t},null,8,["product"])))),128))]))}const nt={class:"catalog__item"},ut=["src"],dt={class:"catalog__title"},_t={href:"#"},mt={class:"catalog__price"},pt={class:"colors colors--black"},gt={class:"colors__label"},ht=["value"];function ft(t,e,o,r,l,i){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("li",nt,[(0,a.Wm)(c,{class:"catalog__pic",to:{name:"PageItem",params:{id:o.product.id}}},{default:(0,a.w5)((()=>[(0,a._)("img",{src:o.product.image.file.url,alt:"Название товара"},null,8,ut)])),_:1},8,["to"]),(0,a._)("h3",dt,[(0,a._)("a",_t,(0,p.zw)(o.product.title),1)]),(0,a._)("span",mt,(0,p.zw)(o.product.price)+" ₽ ",1),(0,a._)("ul",pt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.product.colors,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:t.id},[(0,a._)("label",gt,[(0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-1",value:t.code,checked:""},null,8,ht),(0,a._)("span",{class:"colors__value",style:(0,p.j5)({backgroundColor:t.code})},null,4)])])))),128))])])}var bt={props:{product:{type:Object,required:!0,default:{}}}};const Pt=(0,d.Z)(bt,[["render",ft]]);var vt=Pt;const Ct={class:"loader"};function kt(t,e,o,r,l,i){return(0,a.wg)(),(0,a.iD)("div",Ct)}var wt={};const yt=(0,d.Z)(wt,[["render",kt]]);var It=yt,St={components:{ProductItem:vt,Preloader:It},computed:{...(0,w.Se)(["allProducts","isLoading"])}};const xt=(0,d.Z)(St,[["render",st]]);var At=xt;const Dt=t=>((0,a.dD)("data-v-3b594a7e"),t=t(),(0,a.Cn)(),t),Lt={class:"catalog__pagination pagination"},Ot=Dt((()=>(0,a._)("a",{class:"pagination__link pagination__link--arrow","aria-label":"Предыдущая страница"},[(0,a._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-arrow-left"})])],-1))),$t=[Ot],Mt=["onClick"],Vt=Dt((()=>(0,a._)("a",{class:"pagination__link pagination__link--arrow",href:"#","aria-label":"Следующая страница"},[(0,a._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-arrow-right"})])],-1))),Nt=[Vt];function Zt(t,e,o,l,i,c){return(0,a.wg)(),(0,a.iD)("ul",Lt,[(0,a._)("li",{class:(0,p.C_)(["pagination__item",{disabled:1===o.modelValue}]),onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>c.prevPage&&c.prevPage(...t)),["prevent"]))},$t,2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.totalPages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"pagination__item",key:t,onClick:e=>c.changePage(t)},[(0,a._)("a",{class:(0,p.C_)(["pagination__link",{"pagination__link--current":t===o.modelValue}])},(0,p.zw)(t),3)],8,Mt)))),128)),(0,a._)("li",{class:(0,p.C_)(["pagination__item",{disabled:o.modelValue===o.totalPages}]),onClick:e[1]||(e[1]=(0,r.iM)(((...t)=>c.nextPage&&c.nextPage(...t)),["prevent"]))},Nt,2)])}var zt={props:{totalPages:{type:Number,required:!0,default:0},modelValue:{type:Number,required:!0,default:0}},methods:{changePage(t){this.$emit("update:modelValue",t)},nextPage(){this.$emit("update:modelValue",this.modelValue+1)},prevPage(){this.$emit("update:modelValue",this.modelValue-1)}}};const jt=(0,d.Z)(zt,[["render",Zt],["__scopeId","data-v-3b594a7e"]]);var Tt=jt,Ft={components:{ProductsFilter:it,ProductsList:At,ProductsPagination:Tt},data(){return{perPage:4,page:1,maxPrice:0,minPrice:0,categoryId:0,colorId:0}},computed:{...(0,w.Se)(["totalPages"])},methods:{loadCards(){this.$store.dispatch("loadProducts",{perPage:this.perPage,page:this.page,minPrice:this.minPrice,maxPrice:this.maxPrice,categoryId:this.categoryId,colorId:this.colorId})}},mounted(){this.loadCards()},watch:{page(){this.loadCards()},minPrice(){this.loadCards()},maxPrice(){this.loadCards()},categoryId(){this.loadCards()},colorId(){this.loadCards()}}};const Ut=(0,d.Z)(Ft,[["render",N]]);var Jt=Ut;const Wt=t=>((0,a.dD)("data-v-33bea651"),t=t(),(0,a.Cn)(),t),Ht={key:1,class:"content container"},Yt={class:"content__top"},Kt={class:"breadcrumbs"},qt={class:"breadcrumbs__item"},Et={class:"breadcrumbs__item"},Bt={class:"breadcrumbs__item"},Gt={class:"breadcrumbs__link"},Qt={class:"item"},Rt={class:"item__pics pics"},Xt={class:"pics__wrapper"},te=["src","alt"],ee={class:"item__info"},oe={class:"item__code"},re={class:"item__title"},ae={class:"item__form"},le={class:"form",action:"#",method:"POST"},ie={class:"item__price"},ce={class:"form__block"},se=Wt((()=>(0,a._)("legend",{class:"form__legend"},"Цвет:",-1))),ne={class:"colors"},ue={class:"colors__label"},de=["value"],_e={class:"item__row"},me={class:"form__counter"},pe=Wt((()=>(0,a._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-minus"})],-1))),ge=[pe],he=Wt((()=>(0,a._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-plus"})],-1))),fe=[he];function be(t,e,o,l,i,c){const s=(0,a.up)("Preloader"),n=(0,a.up)("router-link");return t.isProductLoading?((0,a.wg)(),(0,a.j4)(s,{key:0})):((0,a.wg)(),(0,a.iD)("main",Ht,[(0,a._)("div",Yt,[(0,a._)("ul",Kt,[(0,a._)("li",qt,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"MainPage"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Каталог ")])),_:1})]),(0,a._)("li",Et,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"MainPage"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(t.currentProduct.category.title),1)])),_:1})]),(0,a._)("li",Bt,[(0,a._)("a",Gt,(0,p.zw)(t.currentProduct.title),1)])])]),(0,a._)("section",Qt,[(0,a._)("div",Rt,[(0,a._)("div",Xt,[(0,a._)("img",{width:"570",height:"570",src:t.currentProduct.image.file.url,alt:t.currentProduct.title},null,8,te)])]),(0,a._)("div",ee,[(0,a._)("span",oe,"Артикул: "+(0,p.zw)(t.currentProduct.id),1),(0,a._)("h2",re,(0,p.zw)(t.currentProduct.title),1),(0,a._)("div",ae,[(0,a._)("form",le,[(0,a._)("b",ie,(0,p.zw)(t.currentProduct.price)+" ₽ ",1),(0,a._)("fieldset",ce,[se,(0,a._)("ul",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.currentProduct.colors,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:t.id},[(0,a._)("label",ue,[(0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:t.code},null,8,de),(0,a._)("span",{class:"colors__value",style:(0,p.j5)({backgroundColor:t.code})},null,4)])])))),128))])]),(0,a._)("div",_e,[(0,a._)("div",me,[(0,a._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>c.decreaseAmount&&c.decreaseAmount(...t)),["prevent"]))},ge),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.prodAmount=t),onInput:e[2]||(e[2]=(...t)=>c.checkValue&&c.checkValue(...t)),type:"number",name:"count"},null,544),[[r.nr,i.prodAmount]]),(0,a._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[3]||(e[3]=(0,r.iM)(((...t)=>c.increaseAmount&&c.increaseAmount(...t)),["prevent"]))},fe)]),(0,a._)("button",{class:"button button--primery",type:"submit",onClick:e[4]||(e[4]=(0,r.iM)(((...t)=>c.addToCart&&c.addToCart(...t)),["prevent"]))}," В корзину ")])])])])])]))}var Pe={data(){return{prodAmount:1}},components:{Preloader:It},methods:{addToCart(){this.$store.dispatch("loadCartProduct",{cartProductId:this.$route.params.id,amount:this.prodAmount})},increaseAmount(){this.prodAmount+=1},decreaseAmount(){this.prodAmount<2||(this.prodAmount-=1)},checkValue(){this.prodAmount<2&&(this.prodAmount=1)}},computed:{...(0,w.Se)(["currentProduct","isProductLoading"])},created(){this.$store.dispatch("loadProduct",{productId:this.$route.params.id})}};const ve=(0,d.Z)(Pe,[["render",be],["__scopeId","data-v-33bea651"]]);var Ce=ve;const ke={class:"content container"},we={class:"content__top"},ye={class:"breadcrumbs"},Ie={class:"breadcrumbs__item"},Se=(0,a._)("li",{class:"breadcrumbs__item"},[(0,a._)("a",{class:"breadcrumbs__link"}," Корзина ")],-1),xe=(0,a._)("h1",{class:"content__title"}," Корзина ",-1),Ae={class:"cart"},De={key:0,class:"cart__form form",action:"#",method:"POST"},Le={class:"cart__field"},Oe={class:"cart__list"},$e={class:"cart__block"},Me=(0,a._)("p",{class:"cart__desc"}," Ура, вы набрали целую корзину товаров! 🤩 ",-1),Ve={class:"cart__price"},Ne=(0,a._)("button",{disabled:"",class:"cart__button button button--primery",type:"submit"},[(0,a.Uk)(" Оформить заказ нелья "),(0,a._)("br"),(0,a.Uk)(" Это тестовая работа 😃 ")],-1),Ze={key:1};function ze(t,e,o,r,l,i){const c=(0,a.up)("router-link"),s=(0,a.up)("CartItem");return(0,a.wg)(),(0,a.iD)("main",ke,[(0,a._)("div",we,[(0,a._)("ul",ye,[(0,a._)("li",Ie,[(0,a.Wm)(c,{class:"breadcrumbs__link",to:{name:"MainPage"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Каталог ")])),_:1})]),Se]),xe]),(0,a._)("section",Ae,[t.allCartProducts.length>0?((0,a.wg)(),(0,a.iD)("form",De,[(0,a._)("div",Le,[(0,a._)("ul",Oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.allCartProducts,(t=>((0,a.wg)(),(0,a.j4)(s,{key:t.id,product:t},null,8,["product"])))),128))])]),(0,a._)("div",$e,[Me,(0,a._)("p",Ve,[(0,a.Uk)(" Итого: "),(0,a._)("span",null,(0,p.zw)(i.totalPrice)+" ₽",1)]),Ne])])):((0,a.wg)(),(0,a.iD)("h1",Ze,"Товаров нет 😪"))])])}const je={class:"cart__item product"},Te={class:"product__pic"},Fe=["src","alt"],Ue={class:"product__title"},Je={class:"product__code"},We={class:"product__counter form__counter"},He=(0,a._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-minus"})],-1),Ye=[He],Ke=(0,a._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-plus"})],-1),qe=[Ke],Ee={class:"product__price"},Be=(0,a._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-close"})],-1),Ge=[Be];function Qe(t,e,o,l,i,c){return(0,a.wg)(),(0,a.iD)("li",je,[(0,a._)("div",Te,[(0,a._)("img",{src:o.product.image.file.url,width:"120",height:"120",alt:o.product.title},null,8,Fe)]),(0,a._)("h3",Ue,(0,p.zw)(o.product.title),1),(0,a._)("span",Je," Артикул: "+(0,p.zw)(o.product.id),1),(0,a._)("div",We,[(0,a._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>c.decreaseAmount&&c.decreaseAmount(...t)),["prevent"]))},Ye),(0,a.wy)((0,a._)("input",{type:"number",onInput:e[1]||(e[1]=t=>c.checkValue(t)),"onUpdate:modelValue":e[2]||(e[2]=t=>o.product.amount=t),name:"count"},null,544),[[r.nr,o.product.amount,void 0,{number:!0}]]),(0,a._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[3]||(e[3]=(0,r.iM)(((...t)=>c.increaseAmount&&c.increaseAmount(...t)),["prevent"]))},qe)]),(0,a._)("b",Ee,(0,p.zw)(o.product.price*o.product.amount)+" ₽ ",1),(0,a._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[4]||(e[4]=(...t)=>c.deleteProduct&&c.deleteProduct(...t))},Ge)])}var Re={props:{product:Object},computed:{amount:{get(){return this.product.amount},set(t){t>1?this.$store.commit("changeCartItemAmount",{id:this.product.id,amount:+t}):this.$store.commit("changeCartItemAmount",{id:this.product.id,amount:1})}}},methods:{changeLocalStorage(t){const e=JSON.parse(localStorage.getItem("localStorageCarts"))||[],o=e.find((t=>t.id===this.product.id));o.amount=this.product.amount+t,e.map((t=>{if(t.id===o.id)return o})),localStorage.setItem("localStorageCarts",JSON.stringify(e))},decreaseAmount(){this.product.amount>1?(this.changeLocalStorage(-1),this.$store.commit("changeCartItemAmount",{id:this.product.id,amount:this.product.amount-=1})):this.$store.commit("changeCartItemAmount",{id:this.product.id,amount:1})},increaseAmount(){this.changeLocalStorage(1),this.$store.commit("changeCartItemAmount",{id:this.product.id,amount:this.product.amount+=1})},checkValue(t){const e=JSON.parse(localStorage.getItem("localStorageCarts"))||[],o=e.find((t=>t.id===this.product.id));o.amount=+t.target.value,t.target.value<2&&(this.product.amount=1,o.amount=1),e.map((t=>{if(t.id===o.id)return o})),localStorage.setItem("localStorageCarts",JSON.stringify(e))},deleteProduct(){this.$store.commit("deleteProduct",{id:this.product.id});let t=JSON.parse(localStorage.getItem("localStorageCarts"))||[];t=t.filter((t=>t.id!==this.product.id)),localStorage.setItem("localStorageCarts",JSON.stringify(t))}}};const Xe=(0,d.Z)(Re,[["render",Qe]]);var to=Xe,eo={components:{CartItem:to},computed:{...(0,w.Se)(["allCartProducts"]),totalPrice(){return this.allCartProducts.reduce(((t,e)=>t+e.price*e.amount),0)}}};const oo=(0,d.Z)(eo,[["render",ze]]);var ro=oo;const ao=[{path:"/",name:"MainPage",component:Jt},{path:"/item/:id",name:"PageItem",component:Ce},{path:"/cart/",name:"Cart",component:ro}],lo=(0,L.p7)({routes:ao});var io=lo,co=o(4161),so={state:{products:[],productsLoading:!1},getters:{allProducts(t){return t.products},totalPages(t){return t.products.pagination?t.products.pagination.pages:0},isLoading(t){return t.productsLoading}},mutations:{updateProducts(t,e){t.products=e},changeLoading(t){t.productsLoading=!t.productsLoading}},actions:{loadProducts(t,{perPage:e,page:o,minPrice:r,maxPrice:a,categoryId:l,colorId:i}){t.commit("changeLoading"),setTimeout((()=>{co.Z.get("https://vue-study.skillbox.cc/api/products",{params:{page:o,limit:e,minPrice:r,maxPrice:a,categoryId:l,colorId:i}}).then((e=>{t.commit("updateProducts",e.data),t.commit("changeLoading")}))}),600)}}},no={state:{caterories:[]},getters:{allCategories(t){return t.caterories.items?t.caterories.items:[]}},mutations:{updateCaterories(t,e){t.caterories=e}},actions:{loadCategories(t){co.Z.get("https://vue-study.skillbox.cc/api/productCategories").then((e=>{t.commit("updateCaterories",e.data)}))}}},uo={state:{colors:[]},getters:{allColors(t){return t.colors.items?t.colors.items:[]}},mutations:{updateColors(t,e){t.colors=e}},actions:{loadColors(t){co.Z.get("https://vue-study.skillbox.cc/api/colors").then((e=>{t.commit("updateColors",e.data)}))}}},_o={state:{product:{},productLoading:!1},getters:{currentProduct(t){return t.product},isProductLoading(t){return t.productLoading}},mutations:{updateProduct(t,e){t.product=e},changeProductLoading(t){t.productLoading=!t.productLoading}},actions:{loadProduct(t,{productId:e}){t.commit("changeProductLoading"),setTimeout((()=>{co.Z.get(`https://vue-study.skillbox.cc/api/products/${e}`,{}).then((e=>{t.commit("updateProduct",e.data),t.commit("changeProductLoading")}))}),300)}}},mo=(o(7658),{state:{cartProducts:[]},getters:{allCartProducts(t){return t.cartProducts?t.cartProducts:JSON.parse(localStorage.getItem("localStorageCarts"))}},mutations:{updateCartProduct(t,e){const o=JSON.parse(localStorage.getItem("localStorageCarts"))||[],r=t.cartProducts.find((t=>t.id===e.id));if(r){r.amount=r.amount+e.amount;const t=o.find((t=>t.id===r.id));t.amount=t.amount+e.amount,o.map((e=>{if(e.id===t.id)return t})),localStorage.setItem("localStorageCarts",JSON.stringify(o))}else o.push(e),localStorage.setItem("localStorageCarts",JSON.stringify(o)),t.cartProducts=o},updateCartProductFromStorage(t){JSON.parse(localStorage.getItem("localStorageCarts"))&&(t.cartProducts=JSON.parse(localStorage.getItem("localStorageCarts")))},changeCartItemAmount(t,{id:e,amount:o}){const r=t.cartProducts.find((t=>t.id===e));r&&(r.amount=o)},deleteProduct(t,{id:e}){t.cartProducts=t.cartProducts.filter((t=>t.id!==e))}},actions:{loadCartProduct(t,{cartProductId:e,amount:o}){co.Z.get(`https://vue-study.skillbox.cc/api/products/${e}`,{}).then((t=>t.data)).then((e=>{e.amount=o,t.commit("updateCartProduct",e)}))}}}),po=(0,w.MT)({modules:{baseLoadProducts:so,baseLoadCategories:no,baseLoadColors:uo,loadProductById:_o,loadCartItems:mo}});(0,r.ri)(D).use(io).use(po).mount("#app")}},e={};function o(r){var a=e[r];if(void 0!==a)return a.exports;var l=e[r]={exports:{}};return t[r].call(l.exports,l,l.exports,o),l.exports}o.m=t,function(){var t=[];o.O=function(e,r,a,l){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],a=t[u][1],l=t[u][2];for(var c=!0,s=0;s<r.length;s++)(!1&l||i>=l)&&Object.keys(o.O).every((function(t){return o.O[t](r[s])}))?r.splice(s--,1):(c=!1,l<i&&(i=l));if(c){t.splice(u--,1);var n=a();void 0!==n&&(e=n)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[r,a,l]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,l,i=r[0],c=r[1],s=r[2],n=0;if(i.some((function(e){return 0!==t[e]}))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(s)var u=s(o)}for(e&&e(r);n<i.length;n++)l=i[n],o.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return o.O(u)},r=self["webpackChunkvue3_store"]=self["webpackChunkvue3_store"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(4215)}));r=o.O(r)})();
//# sourceMappingURL=app.8eeb6885.js.map